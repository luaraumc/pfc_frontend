<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <title>CRUD de Itens</title>
    <style>
        body { background: #f5f5f5; font-family: Arial; padding: 30px; }
        input, button { margin: 5px; }
        #itens { margin-top: 20px; }
    </style>
</head>
<body>
    <h2>Cadastro de Itens</h2>
    <input id="nome" placeholder="Nome" />
    <input id="descricao" placeholder="Descrição" />
    <button onclick="criarItem()">Criar</button>

    <div id="itens"></div>

    <script>
        const API_URL = "http://localhost:5000/itens";

        // Listar itens ao carregar a página
        function listarItens() {
            fetch(API_URL)
                .then(res => res.json())
                .then(data => {
                    const div = document.getElementById("itens");
                    div.innerHTML = "<h3>Itens cadastrados:</h3>";
                    data.forEach(item => {
                        div.innerHTML += `
                            <div>
                                <b>${item.nome}</b> - ${item.descricao}
                                <button onclick="deletarItem(${item.id})">Excluir</button>
                                <button onclick="editarItem(${item.id}, '${item.nome}', '${item.descricao}')">Editar</button>
                            </div>
                        `;
                    });
                });
        }

        // Criar novo item
        function criarItem() {
            const nome = document.getElementById("nome").value;
            const descricao = document.getElementById("descricao").value;
            fetch(API_URL, {
                method: "POST",
                headers: { "Content-Type": "application/json" },
                body: JSON.stringify({ nome, descricao })
            })
            .then(res => res.json())
            .then(() => {
                listarItens();
                document.getElementById("nome").value = "";
                document.getElementById("descricao").value = "";
            });
        }

        // Excluir item
        function deletarItem(id) {
            fetch(`${API_URL}/${id}`, { method: "DELETE" })
                .then(() => listarItens());
        }

        // Editar item (simples)
        function editarItem(id, nomeAtual, descricaoAtual) {
            const nome = prompt("Novo nome:", nomeAtual);
            const descricao = prompt("Nova descrição:", descricaoAtual);
            if (nome && descricao) {
                fetch(`${API_URL}/${id}`, {
                    method: "PUT",
                    headers: { "Content-Type": "application/json" },
                    body: JSON.stringify({ nome, descricao })
                })
                .then(() => listarItens());
            }
        }

        listarI